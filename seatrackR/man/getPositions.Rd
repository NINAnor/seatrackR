% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/getPositions.R
\name{getPositions}
\alias{getPositions}
\title{Get position data from the database. Either "GLS" data (default), "IRMA" data, or "GPS" data.}
\usage{
getPositions(
  datatype = "GLS",
  species = NULL,
  colony = NULL,
  dataResponsible = NULL,
  ringnumber = NULL,
  year = NULL,
  sessionId = NULL,
  individId = NULL,
  loadGeometries = F,
  loadImportDate = T,
  asTibble = T,
  limit = F
)
}
\arguments{
\item{datatype}{"GLS", "IRMA", or "GPS". Which type of position data to fetch. Default is "GLS".}

\item{species}{Character string. Option to limit selection to one or a set of species.Default is NULL, indicating all species.
The available choices can be seen in the column \code{species_name_eng} in the result from the function \code{getSpecies()}.}

\item{colony}{Character string. Option to limit selection to one or a set of colonies. Default is NULL. The available
choices can be seen in the column \code{colony_int_name} in the result from the function \code{getColonies()}.}

\item{dataResponsible}{Character string. Option to limit selection to one or a set of names of data responsible persons. Note that this
must conform to the name nomenclature used in the postable. Default is NULL. The available
choices can be seen in the column \code{name} in the result from the function \code{getNames()}.}

\item{ringnumber}{Character string. Option to limit selection to one or a set of ring numbers. Default is NULL.}

\item{year}{Character string. Option to limit selection to one or more years that the logging sessions span. The availablle
choices can be found in the \code{year_tracked} column in the result form the \code{getYears} function.}

\item{loadGeometries}{Boolean. If True, the returned object is a simple features object with only rows of eqfilter == TRUE. Default = False}

\item{asTibble}{Boolean. Should the result be given as a tibble instead of a lazy query? Tibble is a little bit slower, but also here forces the timezone to "UTC".}

\item{limit}{FALSE or Integer. Limit the number of rows returned to this number. Default = False.}
}
\value{
A lazy query or optionally a tibble of postable records. In the case of loadGeometries = T (default), also of class sf (simple feature) with geometries based on lat lon.
}
\description{
This is a convenience function that reads position data from the database. The default datatype is "GLS", which reads data from "positions.postable", which is the primary table position table in the DB. Optionally you can fetch "IRMA" data, which is IRMA processed position data, or "GPS" data.
}
\examples{
dontrun{
connectSeatrack(Username = "testreader", Password = "testreader")

positions <- getPositions(colony = "Kongsfjorden",
                        dataResponsible = "Sebastien Descamps",
                        species = "Little auk",
                        limit = F,
                        loadGeometries = F)

positions

# get data with geometries (default)
positions2 <- getPositions(datatype = "GPS",
                         limit = 500)

positions2

#make a simple plot
plot(positions2["logger_model"], pch = 16)

}
}
